<template>

    <!-- Photo strip -->
    <div id="photo-strip">
        <photo-strip source.bind="photo_list" slides.bind="slides" id="1" action.bind="action" fullscreen.bind="true" height_change.trigger="on_height_change($event)"
            action_key="Zoom1" settings.bind="{arrows:true, slide_show: 4}" style="padding:0;"></photo-strip>
    </div>

    <div class="panel main-panel" css="height:${panel_height}px;">
        <div class="panel-messages" css="direction:${theme.rtltr};">
            <h2 class="messages-header">
                <span>${'home.messages' & t}</span>
                <span class="is-link" if.bind="user.editing" click.delegate="add_message()">
                    <i class="fa fa-plus-square"></i>
                </span>
            </h2>
            <ul class="messages">
                <li class="message" repeat.for="msg of message_list" dir="rtl">
                    <editable story.bind="msg" settings.bind="{show_date:true, show_author: false, deletable: true, divclass: 'no-theme'}" change.delegate="hande_story_change(msg, $event)"></editable>
                </li>
            </ul>
        </div>
        <div class="panel-stories" style="direction:rtl;">
            <h2 class="panel-stories-header">
                <span class="expand">${'home.sample-stories' & t}</span>
                <span class="full-collection-button" click.delegate="goto_full_collection()">
                    ${'home.full-collection' & t}
                    <i class="fa fa-play fa-rotate-180"> </i>
                </span>
            </h2>
            <ul class="panel-story-segments">
                <li class="panel-story-segment" repeat.for="story of stories_sample" dir="${theme.rtltr}" click.delegate="jump_to_the_full_story(story)">
                    <div class="story-preview">
                        <h4 class="panel-story-header" dir="rtl">
                            ${story.name}
                        </h4>
                        <p dir="rtl" class="${theme.font_size}" innerhtml.bind="story.story_preview"></p>
                    </div>
                </li>
            </ul>
        </div>
        <div class="panel-vid" style="direction:rtl;">
            <span repeat.for="video of video_list | filter:'youtube':'type'" class="fr-video fr-fvc fr-draggable fr-dvi" contenteditable="false" draggable="true">
                <iframe src.bind="video.src" frameborder="0" allowfullscreen="" style="width: 204px; height: 121px;">
                </iframe>
            </span>
        </div>
    </div>

    <div class="member-of-the-day">
        <div dir="ltr">
            <span class="hidden-xs member-link" click.delegate="jump_to_member_of_the_day_page(member_of_the_day.id)">
                ${'home.to-the-page-of' & t} ${member_of_the_day.first_name}
            </span>
            <span class="hidden-xs hidden-sm member-text" css="direction:${theme.rtltr};">
                ${member_of_the_day_life_cycle_text}
            </span>
            <span class="member-name" css="direction:${theme.rtltr};">${member_of_the_day.name}</span>
            <img class="member-image" src.bind="member_of_the_day.face_photo_url" />
            <span class="hidden-xs member-prefix">${member_prefix & t}</span>
        </div>
    </div>

</template>
