<template>
    <require from='./home.css'></require>
    <div style="margin-bottom:${photo_strip_height}px">
        <div style="margin-top:60px;top: 0px;" class="full-width-div">
            <div id="photo-strip">
                <photo-strip source.bind="photo_list" slides.bind="slides" id="1" action.bind="action" fullscreen.bind="true" height_change.trigger="on_height_change($event)"
                    action_key="Zoom1" settings.bind="{arrows:true, slide_show: 5}"></photo-strip>
            </div>
        </div>
    </div>
    <div class="row panel main-panel">
        <div class="col-md-3 panel-vid" css="height:${panel_height}px;" style="overflow:auto;">
            <ul>
                <li repeat.for="video of video_list" if.bind="video.type=='youtube'">
                    <p>
                        <span class="fr-video fr-fvc fr-draggable fr-dvi" contenteditable="false" draggable="true">
                            <iframe src.bind="video.src" frameborder="0" allowfullscreen="" style="width: 204px; height: 121px;">
                            </iframe>
                        </span>
                    </p>
                </li>
            </ul>
        </div>
        <div class="col-md-6 panel-stories" css="height:${panel_height}px;">
            <h2 style="margin-top:0;">
                ${'home.sample-stories' | t}
                <span style="float:left;font-size:80%;color:gray;direction:rtl;cursor:pointer;" click.delegate="goto_full_collection()">
                    ${'home.full-collection' | t} 
                    <i class="fa fa-play fa-rotate-180"> </i>
                </span>
            </h2>
            <ul style="overflow:auto;" class="panel-story-segments" css="height:${panel_height-30}px;">
                <li repeat.for="story of stories_sample" dir="rtl">
                    <div style="margin-top:12px;max-height:100px;min-height:100px;padding-bottom:30px;border-bottom:solid 2px lightgray;position:relative;" >
                        <h4 dir="rtl" style="float:right;margin:0;padding:0;cursor:pointer;" click.delegate="jump_to_the_full_story(story)">
                            ${story.name}
                        </h4>
                        <!--div style="margin:20px;"-->
                            <p dir="rtl" innerhtml.bind="story.story" style="text-align:right;max-height:50px;font-size:13px;width:100%;overflow:hidden;">
                        </p>
                        <!--/div-->
                        <div style="position:absolute;bottom:0px;left:12px;cursor:pointer;">
                            <a click.delegate="jump_to_the_full_story(story)">
                                <span if.bind="story.used_for==api.constants.story_type.STORY4EVENT">
                                    ${'stories.to-the-full-story' | t }...
                                </span>
                            </a>
                        </div>
                    </div>
                </li>
            </ul>
        </div>
        <div class="col-md-3 panel-messages" css="height:${panel_height}px;">
            <h2 style="margin:0;">${'home.messages' | t}
                <span class="is-link" style="float:left" if.bind="user.editing" click.delegate="add_message()"><i class="fa fa-plus-square-o"></i></span>
            </h2>
            <ul style="padding:0;float:right;height:250px;overflow:auto;">
                <li repeat.for="msg of message_list" dir="rtl" >
                    <editable story.bind="msg" settings.bind="{show_date:true}"></editable>
                    <!--<span style="text-align:right;float:right;">${msg.name}</span>-->
                </li>
            </ul>
        </div>
    </div>
    <div style="height:20px"></div>
    <div class="member-of-the-day full-width-div" dir="rtl" style="padding:0;padding-right:16px;">
        <div style="width:1170px;margin-left:auto;margin-right:auto;margin-bottom:67px;">
            <span style="width:100px;text-align:right;margin-top:20px;">${member_prefix | t}</span>
            <span style="padding-left:20px;padding-top:6px;"><img src.bind="member_of_the_day.face_photo_url" width="60" style="border-radius:50%;" /></span>
            <span style="border-right:2px solid gray;margin-top:20px;margin-left:16px;padding-right:10px;">${member_of_the_day.name}</span>
            <span if.bind="member_of_the_day.place_of_birth" style="border-right:2px solid gray;margin-top:20px;padding-right:10px;">
                ${was_born_in | t}${member_of_the_day.place_of_birth}
            </span>
            <span style="margin-top:20px;padding-right:10px;margin-left:16px;" if.bind="member_of_the_day.year_of_birth">  
                ${member_of_the_day.year_of_birth}
            </span>
            <span style="margin-top:20px;padding-right:10px;margin-left:16px;border-right:2px solid gray;" if.bind="member_of_the_day.year_of_death">  
                ${died_in | t} ${member_of_the_day.year_of_death}
            </span>
            <span style="float:left;margin-top:20px;margin-left:16px;padding-right:16px;border-right:2px solid gray;cursor:pointer;"
                click.delegate="jump_to_member_of_the_day_page(member_of_the_day.id)">
                ${'home.to-the-page-of' | t} ${member_of_the_day.first_name}
            </span>
        </div>
    </div>

</template>