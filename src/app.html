<template>
    <require from="styles.css"></require>
    <require from="toastr/build/toastr.min.css"></require>

    <div class="page-container ${theme.palette}" css="background-image:url('${theme.files.content_background}'); min-height:${theme.min_height}px;">
        <nav class="navbar navbar-default navbar-fixed-top" role="navigation" if.bind="! theme.hide_menu">

            <div class="navbar-controls">
                <user-mode></user-mode>
            </div>

            <div class="navbar-search">
                <div class="search-box" css="width:${search_input_width}px;">
                    <label class="search-box-container">
                        <input type="text" class="search-box-input" value.bind="keywords" t="[placeholder]enter-search-words" dir.bind="theme.rtltr" change.delegate="go_search()" />
                        <i class="far fa-times" click.trigger="clear_keywords()"></i>
                    </label>
                    <button class="search-box-button" click.delegate="go_search(true)">
                        <i class="far fa-search"></i>
                    </button>
                </div>
            </div>

            <div class="navbar-main" css="direction:${theme.rtltr};">
                <span class="loader" if.bind="api.pending">
                    <i class="fa fa-spinner fa-spin fa-2x"></i>
                </span>
                <div class="nav-items">
                    <a class="navbar-logo" href="#">
                        <img src="${theme.blue_logo ? theme.files.gb_logo_blue : theme.files.gb_logo_png}" />
                        ${router.title & t}
                    </a>
                    <a repeat.for="row of router.navigation" class="nav-item ${row.isActive ? 'active' : ''}" href.bind="row.href">
                        ${row.title & t}.
                    </a>
                </div>
            </div>
        </nav>

        <div class="top-head" if.bind="theme.page_title != '' && ! theme.hide_title">
            <div class="page-title" css="background-image:url('${theme.files.top_background}');" dir="rtl">
                <span>${theme.page_title & t}</span>
            </div>
        </div>
        <div id="router-view" css="min-height:${router_view_height};">
            <router-view></router-view>
        </div>
        <footer id="footer" if.bind="! theme.hide_title">
            <div class="footer-area">
                <a click.delegate="contact_us()">Built by Lifestone</a>
                <span>${curr_version}</span>
            </div>
        </footer>
    </div>
</template>
