<template>
    <require from="styles.css"></require>
    <require from="toastr/build/toastr.min.css"></require>

    <div class="page-container ${theme.palette}" css="background-image:url('${theme.files.content_background}'); min-height:${theme.min_height}px;" dir="${theme.rtltr}">
        <nav class="navbar navbar-default navbar-fixed-top" role="navigation" if.bind="! theme.hide_menu">
            <div class="navbar-main">
                <div class="nav-items">
                    <a class="navbar-logo" href="#">
                        <img src="${theme.blue_logo ? theme.files.gb_logo_blue : theme.files.gb_logo_png}" />
                        <span class="router-title">${router.title & t}</span>
                    </a>
                    <div class="menu-items">
                        <a repeat.for="row of router.navigation" class="nav-item ${row.isActive ? 'active' : ''}" href.bind="row.href">
                            ${row.title & t}.
                        </a>
                    </div>
                </div>
                <span class="loader" css="opacity:${api.pending ? 1.0 : 0}">
                    <i class="fa fa-spinner fa-spin"></i>
                </span>
            </div>
            <div class="navbar-search">
                <div class="search-box">
                    <label class="search-box-container">
                        <input type="text" class="search-box-input" value.bind="keywords" t="[placeholder]enter-search-words" keydown.delegate="go_search() & debounce:1500" />
                        <i class="far fa-times" click.trigger="clear_keywords()"></i>
                    </label>
                    <button class="search-box-button" click.delegate="go_search(true)" if.bind="false">
                        <i class="far fa-search"></i>
                    </button>
                </div>
            </div>
            <div class="navbar-controls" >
                <user-mode></user-mode>
            </div>
        </nav>

        <div class="top-head" if.bind="theme.page_title != '' && ! theme.hide_title">
            <div class="page-title" css="background-image:url('${theme.files.top_background}');">
                <span style="padding-left:15px;padding-right:15px">${theme.page_title & t}</span>
            </div>
        </div>
        <div id="router-view" css="min-height:${router_view_height};">
            <router-view></router-view>
        </div>
        <footer id="footer" if.bind="! theme.hide_title">
            <div class="footer-area" style="font-size:120%;font-weight:bold;">
                <span class="footer-item"><button class="btn btn-default footer-button" click.delegate="contact_us()">Built by Lifestone</button></span>
                <span class="footer-item">${curr_version}</span>
                <span class="footer-item"><button class="btn btn-default footer-button" click.delegate="feedback()">${'feedback.feedback' & t}</button></span>
            </div>
        </footer>
    </div>
</template>
