<template>
    <require from="./editable.css"></require>

    <div css="width:${width}" class="${settings.divclass} editable-box">
        <div class="preview-header">
            <span show.bind="story.name || user.privileges.EDITOR" dir="${theme.rtltr}" style="padding:0;margin:0;">
                <!--<i if.bind="!settings.no_expand" class="fa fa-sm fa-expand is-link" t="[title]stories.zoom" click.trigger="zoom_out(story, 'show')">&nbsp;&nbsp;</i>-->
                <i if.bind="user.privileges.EDITOR && user.editing" class="far fa-sm fa-pencil is-link" t="[title]stories.edit" click.trigger="zoom_out(story, 'edit')">&nbsp;</i>
                <i if.bind="settings.deletable && user.privileges.ADMIN && user.editing" class="far fa-sm fa-trash-alt is-link" t="[title]stories.delete" click.trigger="delete_story(story)">&nbsp;</i>
                <i if.bind="settings.checkable && user.editing" class="fa${story.checked ? '' : 'r'} fa-circle fa-sm is-link" t="[title]stories.checking" click.trigger="toggle_checked()">&nbsp;</i>
            </span>
            <span if.bind="settings.show_date &&story.timestamp">${story.timestamp | formatdate} |&nbsp;</span>
            <span if.bind="settings.show_author && story.author">${story.author}:&nbsp;</span>
            <span if.bind="settings.show_author && ! story.author">${'stories.unknown-source' & t}:&nbsp;</span>
            <div class="checkable ${story.checked ? 'selected' : ''}"><strong innerhtml.bind="story.name"></strong></div>
            <span if.bind="user.privileges.EDITOR && user.editing && story.updater.name"> ${updated_by}: ${story.updater.name} @${story.timestamp}</span>
        </div>

        <div class="fr-view ${settings.class} message-body">
            <p class="${theme.font_size}" innerhtml.bind="story.story_preview" css="direction:${theme.rtltr};text-align:justify;">
            </p>
        </div>
    </div>

</template>
