<template>
    <require from="./photos.css"></require>

    <div style="margin-top:20px;width:1170px;margin-left:auto;margin-right:auto;min-height:755px;padding-right:30px;padding-left:16px;" class="content-area photo-detail">
        <div class="row" 
            style="background-color:lightgrey;padding:10px;padding-top:14px;margin-bottom:15px;margin-right:0px;margin-left:0px;font-size:150%;height:64px;padding-top:20px;">
            <h3 style="float:left;cursor:pointer;padding:0;margin:0;">
                <i class="far fa-share" t="[title]go-back" click.trigger="go_back()"></i>
            </h3>
            <h3 if.bind="! user.editing" dir="rtl" style="float: right;margin:0px;">
                ${photo_name}
            </h3>
            <form class="form-inline" if.bind="user.editing">
                <input type="search" value.bind="photo_name" change.trigger="update_photo_caption()" 
                    style="float:right;direction:rtl;padding-top:3px;padding-right:10px;width:800px;" />
            </form>
        </div>
        <div class="row">
            <div class="col-md-7" click.trigger="open_full_size_photo()">
                <img src.bind="photo_src" width="${photo_width}" />
            </div>
            <div class="col-md-5">
                <div class="row">
                    <div class="col-md-4 col-md-offset-8" if.bind="story.source">
                        <span style="float:right;direction:rtl">${story.source}:</span>
                    </div>
                </div>
                <div class="row" style="padding-right:15px;">
                    <div class="fr-view" dir="rtl">
                        <div class="big-story-panel">
                            <p dir="rtl" if.bind="! user.editing" innerhtml.bind="photo_story.story_text">
                            </p>
                            <editable if.bind="user.editing" settings.bind="{show_date:false, class:'story-section', checkable: false}" story.bind="photo_story"></editable>
                            <date-range label="${'photos.photo-date' & t}" 
                                base_date_str.bind="photo_date_str" 
                                span_size.bind="photo_date_datespan"
                                range_options.bind="[1,2,3,5,10, 20, 50, 100, 120]"
                                change.delegate="update_photo_date($event)">
                            </date-range>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

</template>
