<template>
    <div class="slide" click.trigger="mark_face($event)" id="full-size-photo" style="z-index:0;">
        <div class="slide" click.delegate="mark_face($event)" css="height: ${slide.height}px; width:${slide.width}px;">
            <img src="${slide.src}" height="${slide.height}" width="${slide.width}" />
            <button class="highlighter" click.trigger="toggle_highlighting($event)"></button>
            <button dir="rtl" repeat.for="face of faces" click.trigger="handle_face(face, $event, $index)" interact-draggable
                class="face" 
                id.bind="'face-' + face.member_id"
                interact-dragmove.delegate="dragmove(face, $event)" 
                interact-dragstart.delegate="dragstart(face, $event)" 
                interact-dragend.delegate="dragend(face, $event)"
                style.bind="face_location(face)" 
                aubs-tooltip="text.bind:face.name">
                <span style="position:relative">
                    <span class="highlighted" if.bind="highlighting" innerhtml.bind="face.name" 
                        css="background-color:white;color:black;opacity:1.0;position:absolute;top:${face.r}px;left:${-face.r}px;width:${2*face.r}px;font-size:70%;"
                    </span>
                </span>
            </button>
        </div>
    </div>
    <style>
        div.slide {
            position: relative;
        }

        button.face {
            border-radius: 50%;
            border-color: rgba(0, 0, 0, 0);
            border-style: solid;
            border-width: 10px;
            opacity: 0;
            position: absolute;
        }

        .slide.highlight-faces button.face {
            border-color: rgba(255, 255, 0, 0.9);
            opacity: 0.5;
            color: orange;
            font-weight: bolder;
        }

        button.face:hover {
            border-color: rgba(255, 255, 0, 0.9);
            opacity: 0.5;
        }

        .highlighter {
            z-index:9999;
            top: 0px;
            width: 32px;
            height: 32px;
            position: absolute;
            background-color: rgba(0, 0, 0, 0);
            border: none;
        }

        span.highlighted {
            color: yellow;
            font-weight: bolder;
        }

        ux-dialog-overlay.active {
            background-color: black;
            opacity: 0.9;
        }
    </style>

</template>