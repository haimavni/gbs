<template>
    <require from="./full-size-photo.css"></require>
    <div class="slide" click.delegate="mark_face($event)" id="full-size-photo" style="z-index:0;margin-left:32px;cursor:default;">
        <div class="slide full-size-photo" click.delegate="mark_face($event)" css="height: ${slide.height}px; width:${slide.width}px;">
            <img src="${slide.src}" height="${slide.height}" width="${slide.width}" />
            <help if.bind="!user.editing" topic="annnotated-photo" position="bottom" class="side-tool help"></help>
            <help if.bind="user.editing" topic="annnotated-photo-editing" position="bottom" class="side-tool help"></help>
            <button aubs-tooltip="text.bind:highlight_all" class="side-tool highlighter" id="side-tool highlighter" 
                click.trigger="toggle_highlighting($event)">
                <i class="fa${highlighting ? '' :'r'} fa-lg fa-circle"></i>
            </button>
            <button aubs-tooltip="text.bind:jump_to_story_page" class="side-tool story" click.trigger="jump_to_photo_page($event)"><i class="fa fa-lg fa-bars"></i></button>
            <button aubs-tooltip="text.bind:copy_photo_url_text" class="side-tool copy-to-clipboard" click.delegate="copy_photo_url()"><i class="fa fa-lg fa-link"></i></button>
            <button dir="rtl" repeat.for="face of faces" click.trigger="handle_face(face, $event, $index)" interact-draggable.bind="theme.interact_setting"
                class="face" 
                id.bind="'face-' + face.member_id"
                interact-dragmove.delegate="dragmove(face, $event)" 
                interact-dragstart.delegate="dragstart(face, $event)" 
                interact-dragend.delegate="dragend(face, $event)"
                style.bind="face_location(face)" 
                aubs-tooltip="text.bind:face.name">
                <span style="position:relative">
                    <span class="highlighted-face" if.bind="highlighting" innerhtml.bind="face.name" 
                        css="top:${face.r}px;left:${-face.r}px;width:${2*face.r}px;"
                    </span>
                </span>
            </button>
            <span css="position:absolute;color:white;direction:rtl;width:${slide.width}px;diretion:rtl;">
                <span if.bind="!user.editing">
                    ${photo_info.name}.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;${'photos.photographer' & t}:&nbsp;${photo_info.photographer}.
                </span>
                <span if.bind="user.editing">
                    <form class="form-inline">
                        <input type="text" value.bind="photo_info.name" style="color:black;width:600px;" change.delegate="save_photo_caption($event)">
                        <button style="border:none;background-color:black">
                            <i class="fa fa-save"></i>
                        </button>
                    </form>
                </span>
                <date-range label="${'photos.photo-date' & t}" 
                    range_options.bind="[1,2,3,5,10, 20, 50, 100, 120]"
                    change.delegate="save_photo_info($event)"
                    base_date_str.bind="photo_info.photo_date_str" 
                    hide_label_if_no_date.bind="true"
                    span_size.bind="photo_info.photo_date_datespan">
                </date-range>
            </span>
        </div>
    </div>

</template>
