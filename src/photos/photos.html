<template>
    <require from='./photos.css'></require>
    <section class="container content-area" css="height: ${win_height-600}px;">
        <div class="row" style="margin-top:30px">
            <div style="background-color:rgba(120, 120, 120, 0.3);height:75px;padding-top:5px;padding-right:15px;">
                <h1 dir="rtl"> ${"photos.photos-store" | t}</h1>
            </div>
        </div>
        <div class="row content-area" style="height:300px;width:100%;margin-top:20px;" dir="rtl">
            <div class="row">
                <div class="col-md-1">
                    <input type="range" id="range" min="4" max="32" step="1" change.trigger="slider_changed()" value.bind="photos_per_line" />
                </div>
                <div class="col-md-8">
                    <div class="row" style="margin-bottom:15px;">
                        <div class="col-md-5 col-md-offset-7">
                            <div class="input-group" style="width:100%;margin-top:15px;margin-right:-16px;">
                                <input dir="rtl" type="search" class="form-control" t="[placeholder]photos.filter" style="font-size:18px;height:38px;" value.bind="filter & debounce"
                                />
                            </div>
                        </div>
                    </div>
                    <div class="row" id="photos-container" style="height:560px;overflow:auto;direction:rtl;margin:0;padding:0;">
                        <span css="padding:0;margin:0;position:relative;width:${photo_size}px;height:${photo_size}px;" repeat.for="photo of photo_list | filter : filter : 9999 : 'title'">
                            <a click.trigger="photo_clicked(photo, $event)" class.bind="photo.selected">
                                <img src="${photo.square_src}" aubs-tooltip="text.bind:photo.title" width="${photo_size}" height="${photo_size}" style="margin:0;" />
                            </a>
                            <a css="position:absolute;right:0px;top:${width/2}px;cursor:sw-resize;" click.trigger="maximize_photo(photo, $event)"><i class="fa fa-expand"></i></a>
                        </span>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="row">
                        <multi-select options.bind="topic_list" place_holder_text="photos.click-topic" change.delegate="handle_topic_change($event) "></multi-select>
                    </div>
                    <!--div class="row " style="font-size:28px; ">
                        ${'photos.photographers' | t}
                    </div>
                    <div class="row ">
                        <multi-select options.bind="photographer_list" place_holder_text="photos.click-photographer"
                            change.delegate="handle_photographer_change($event)"></multi-select>
                    </div-->
                    <div class="row" style="width:90%;margin-top: 20px;">
                        <form role="form">
                            <select value.bind="params.selected_days_since_upload" style="height:32px;" change.delegate="handle_change($event)">
                                <option repeat.for="option of days_since_upload_options" model.bind="option">${option.name}</option>
                            </select>
                        </form>
                    </div>
                    <div class="row" style="width:90%;margin-top: 20px;" if.bind="user.is_logged_in">
                        <form role="form">
                            <select value.bind="params.selected_uploader" style="height:32px;" change.delegate="handle_change($event)">
                                <option repeat.for="option of uploader_options" model.bind="option">${option.name}</option>
                            </select>
                        </form>
                    </div>
                    <div class="row" style="width:90%;margin-top: 20px;">
                        <form class="form-horizontal" submit.delegate="handle_from_date($event)">
                            <div class="form-group">
                                <div class="col-sm-5">
                                    <input type="text" id="from-date" value.bind="params.from_date & debounce" style="width:106px;margin-right:-32px;padding-right:6px;"
                                        t="[placeholder]photos.enter-date" change.delegate="handle_change($event)">
                                </div>
                                <label class="col-sm-7 control-label" for="params.from-date & debounce">${'photos.from-date' & t}</label>
                                <div class="col-sm-5">
                                    <input type="text" id="to-date" value.bind="params.to_date & debounce" style="width:106px;margin-right:-32px;padding-right:6px;"
                                        t="[placeholder]photos.enter-date" change.delegate="handle_change($event)">
                                </div>
                                <label class="col-sm-7 control-label" for="to-date">${'photos.to-date' & t}</label>
                            </div>
                        </form>
                    </div>

                </div>
            </div>
        </div>
    </section>
</template>