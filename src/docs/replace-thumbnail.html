<template>
    <ux-dialog css="padding:12px;direction:${theme.rtltr};">
        <ux-dialog-header>
            <h3>${title}  <span if.bind="user.privileges.ADMIN">id: ${doc.id}</span></h3>
        </ux-dialog-header>
        <ux-dialog-body>
            <form class="form-horizontal" role="form" onsubmit="return false">
                <div class="form-group" style="display:flex">
                    <input type="text" class="form-control"
                        style="width:90%"
                        change.delegate="url_changed($event)" 
                        placeholder="${name_placeholder}" value.bind="doc_jpg_url" />
                    <button class="btn btn-defalt btn-sm" style="margin-right: 12px;">
                        <i class="fas fa-save"></i>
                    </button>
                </div>
                <photo-uploader
                    key="DOC-THUMBNAIL" 
                    payload.bind="{doc_id: doc.id}"
                    uploaded.delegate="on_uploaded()"
                    help_topic="upload-doc-thumbnail">
                </photo-uploader>
                <div class="form-group">
                    <span class="error" if.bind="error_message">${error_message}</span>
                </div>
            </form>
            <div>
                <img src.bind="curr_doc_jpg_url" />
            </div>
        </ux-dialog-body>
        <ux-dialog-footer>
            <button type="button" class="btn btn-primary"
                disabled="${ready_to_save ? '' : 'disabled'}"
                click.delegate="save()">${'groups.save' & t}</button>
            <button type="button" class="btn btn-info" click.delegate="cancel()">${'groups.cancel' & t}</button>
        </ux-dialog-footer>
    </ux-dialog>
</template>
