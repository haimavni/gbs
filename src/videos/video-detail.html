<template>
    <div id="video-details" class="content-area unselectable">
        <div class="detail-header">
            <div style="float:left;cursor:pointer;padding:0;margin:0;" if.bind="theme.is_desktop">
                <chat-button chatroom_id.two-way="chatroom_id" caption.bind="'photos.add-details'"
                             new-chatroom.delegate="create_chatroom()"
                             chatroom-deleted.delegate="chatroom_deleted($event)">
                </chat-button>
                <i class="far fa-lg fa-arrow-up fa-rotate-90 ${next_class}" t="[title]photos.next-slide"
                   click.trigger="go_next($event)" if.bind="photo_ids.length > 1"></i>
                <i class="far fa-lg fa-arrow-up" t="[title]go-back" click.trigger="go_back()"
                   if.bind="theme.is_desktop"></i>
                <i class="far fa-lg fa-arrow-up fa-rotate-270 ${prev_class}" t="[title]photos.prev-slide"
                   click.trigger="go_prev($event)" if.bind="photo_ids.length > 1"></i>
            </div>
            <h3 dir="rtl" style="float: right;margin:0px;">
                ${video_story.name}
            </h3>
        </div>
        <div class="video-detail-body">

            <div class="data-area">
                <f3>Video information</f3>
            </div>
            <div class="video-area">
                <div class="video-display-area">
                    <video ref="video_element" id="video-element" width="640" height="480" controls>
                      <source src.bind="video_source" type="video/mp4">
                      Your browser does not support the video tag.
                    </video>

                </div>
                <button class="btn btn-primary" click.delegate="add_cue_point()" if.bind="user.editing" disabled.bind="!video_element.paused">
                    ${'videos.add-cue' & t}
                </button>
                <div class="cue-points-area table-scroller">
                    <table class="table table-striped table-bordered">
                        <thead>
                            <th css="text-align:${theme.same_dir};" style="width:100px">${'videos.cue-time' & t}</th>
                            <th style="width:40px"><i class="fa fa-users" style="margin-left:5px;"></i></th>
                            <th css="text-align:${theme.same_dir};">${'videos.cue-description' & t}</th>
                            <th if.bind="user.editing" style="width:40px"><i class="fa fa-trash" style="margin-left:5px;"></i></th>
                        </thead>
                        <tbody>
                            <tr repeat.for="cue of cue_points">
                                <td>
                                    ${cue.time | formatTime}
                                    <i class="${cue.is_current ? 'fas' : 'far'} fa-circle" click.delegate="jump_to_cue(cue)" style="float:left;cursor:pointer;"></i>
                                </td>
                                <td>
                                    <i style="cursor:pointer" class="fa fa-users"></i>
                                </td>
                                <td>
                                    <span if.bind="!user.editing">
                                        ${cue.description}
                                    </span>
                                    <span if.bind="user.editing">
                                        <input type="text" value.bind="cue.description" style="height:28px;width:100%;"/>
                                    </span>
                                </td>
                                <td if.bind="user.editing" style="width:40px" click.delegate="remove_cue(cue)"><i style="margin-right:5px;cursor:pointer;" class="fa fa-trash"></i></td>
                            </tr>
                        </tbody>
                    </table>
                </div>

            </div>
        </div>
    </div>
</template>
