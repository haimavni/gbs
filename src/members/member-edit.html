<template>
    <div class="row" style="margin-top: 20px;" dir="rtl">
        <h3>${'members.editing-member' & t}</h3>
    </div>
    <div class="row">
        <div class="col-md-6 family-chains">
            <div class="row">
                <div class="col-md-6">
                    <a type="button" class="btn btn-default" style="height:32px;padding-top:2px;font-size:16px;" click.trigger="find_father()">${'members.father' | t}</a>
                </div>
                <div class="col-md-6" style="padding-right:0px;">
                    <a type="button" class="btn btn-default" style="height:32px;padding-top:2px;font-size:16px;" click.trigger="find_mother()">${'members.mother' | t}</a>
                </div>
            </div>
        </div>
        <div class="col-md-6" style="font-size:14px;float:right">
            <div class="row toolbar">
                <div class="col-md-12" style="padding-right:0px">
                    <div class="btn-group" style="margin-bottom:15px;">
                        <button type="button" tabindex="-1" class="btn btn-default ${dirty_story || dirty_info ? 'disabled' : ''}" click.trigger="next_member()">
                                <i class="fa fa-large fa-chevron-left" ></i>
                            </button>
                        <button type="button" tabindex="-1" class="btn btn-default ${dirty_story || dirty_info ? 'disabled' : ''}" click.trigger="prev_member()">
                                <i class="fa fa-large fa-chevron-right" ></i>
                            </button>
                        <button type="button" class="btn btn-default ${member.member_info.gender ? '' : 'btn-danger'}" href click.trigger="toggle_gender()"
                            t="[title]members.gender">
                                <i class="fa fa-male fa-small" if.bind="member.member_info.gender=='M' || !member.member_info.gender"></i>
                                <i class="fa fa-female fa-small" if.bind="member.member_info.gender=='F'"></i>
                            </button>
                        <button type="button" class="btn btn-default" href click.trigger="member.member_info.visible = !member.member_info.visible"
                            title="Visibility">
                                <i class="fa ${member.member_info.visible ? 'fa-eye' : 'fa-eye-slash'}" ></i>
                            </button>
                        <button class="btn btn-default ${dirty_story || dirty_info ? 'btn-warning' : 'disabled'}" type="button" type="button" class="btn btn-default"
                            click.trigger="save_edited_data()" t="[title]members.save">
                                <i class="fa  fa-large fa-save"></i>
                            </button>
                        <button type="button" type="button" class="btn btn-default ${dirty_story || dirty_info ? 'btn-warning' : 'disabled'}" click.trigger="cancel_edit_mode()"
                            t="[title]members.cancel">
                                <i class="fa  fa-large fa-rotate-left"></i>
                            </button>
                        <button if.bind="user.privileges.ADMIN" type="button" type="button" class="btn btn-warning ${dirty_story || dirty_info ? 'disabled' : btn-warning'}"
                            click.trigger="tryDelete(member.member_info.id)" t="[title]members.delete-member">
                                <i class="fa fa-large fa-trash"></i>
                            </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="row" style="margin-bottom:70px;">
        <form class="form-horizontal member-info" role="form">
            <!--The left wing of the form-->
            <div class="col-md-6 member-info-left">
                <div class="form-group" if.bind="member.member_info.Name">
                    <input type="text" class="form-control" id="former_name" t="[placeholder]members.former-name" value.bind="member.member_info.FormerName"
                        disabled.bind="true">
                </div>
                <div class="form-group">
                    <input type="text" class="form-control" id="former_first_name" t="[placeholder]members.former-first-name" value.bind="member.member_info.former_first_name">
                </div>
                <div class="form-group">
                    <input type="text" class="form-control" id="former_last_name" t="[placeholder]members.former-last-name" value.bind="member.member_info.former_last_name">
                </div>
                <div class="form-group">
                    <input type="text" class="form-control" id="birth_place" t="[placeholder]members.birth-place" value.bind="member.member_info.PlaceOfBirth">
                </div>
                <!--div class="form-group">
                    <input type="text" class="form-control" id="date_of_death" t="[placeholder]members.date-of-death" value.bind="member.member_info.date_of_death_str">
                </div-->
                <div class="form-group" style="margin-top:10px;">
                    <div class="col-md-6" style="padding-left:0;">
                        <partial-date date_str.two-way="member.member_info.date_of_death_str" id="date-of-death"></partial-date>
                    </div>
                    <label class="control-label col-md-6" style="padding-right:0;" for="date-of-death">${'members.date-of-death' | t}:</label>
                </div>
            </div>
            <!--The right wing of the form-->
            <div class="col-md-6 member-info-right">
                <div class="form-group" if.bind="member.member_info.Name">
                    <input type="text" class="form-control" id="member_name" t="[placeholder]members.member-name" value.bind="member.member_info.Name"
                        disabled.bind="true">
                </div>
                <div class="form-group">
                    <input type="text" class="form-control" id="first_name" t="[placeholder]members.first-name" value.bind="member.member_info.first_name">
                </div>
                <div class="form-group">
                    <input type="text" class="form-control" id="last_name" t="[placeholder]members.last-name" value.bind="member.member_info.last_name">
                </div>
                <div class="form-group">
                    <input type="text" class="form-control" id="DateOfBirth" disabled.bind="true" value.bind="member.member_info.DateOfBirth">
                </div>
                <!--div class="form-group">
                    <input type="text" class="form-control" id="date_of_birth" t="[placeholder]members.date-of-birth" value.bind="member.member_info.date_of_birth_str">
                </div-->
                <div class="form-group" style="margin-top:10px;">
                    <div class="col-md-6" style="padding-left:0;">
                        <partial-date date_str.two-way="member.member_info.date_of_birth_str" id="date-of-birth"></partial-date>
                    </div>
                    <label class="control-label col-md-6" style="padding-right:0;" for="date-of-birth">${'members.date-of-birth' | t}:</label>
                </div>
                <div class="form-group">
                    <input type="text" class="form-control" id="nick_name" t="[placeholder]members.nick-name" value.bind="member.member_info.NickName">
                </div>
                <div class="form-group" style="margin-top:10px;">
                    <div class="col-md-6" style="padding-left:0;">
                        <selector dict.bind="api.constants.visibility" selectedval.two-way="member.member_info.visibility"></selector>
                    </div>
                    <label class="control-label col-md-6" style="padding-right:0;" for="date-of-birth">${'members.visibility' | t}:</label>
                </div>
            </div>
        </form>
    </div>
</template>